(function(){"use strict";var e={455:function(e,t,n){var o=n(5130),l=n(6768);const a={id:"app"};function r(e,t,n,o,r,s){const c=(0,l.g2)("Lesson"),i=(0,l.g2)("Cart"),u=(0,l.g2)("Checkout");return(0,l.uX)(),(0,l.CE)("div",a,["Lesson"===r.currentComponent?((0,l.uX)(),(0,l.Wv)(c,{key:0,onChangeComponent:s.handleChangeComponent,onAddToCart:s.addToCartHandler,cart:r.cart,onCartEmpty:s.isCartEmpty,onPerformSearch:s.performSearch,lessons:s.filteredLessons},null,8,["onChangeComponent","onAddToCart","cart","onCartEmpty","onPerformSearch","lessons"])):(0,l.Q3)("",!0),"Cart"===r.currentComponent?((0,l.uX)(),(0,l.Wv)(i,{key:1,onChangeComponent:s.handleChangeComponent,onDeleteFromCart:s.deleteFromCartHandler,onUpdateTotal:s.updateTotalAmt,onUpdateCart:e.updateCart,cart:r.cart,totalAmt:r.totalAmt},null,8,["onChangeComponent","onDeleteFromCart","onUpdateTotal","onUpdateCart","cart","totalAmt"])):(0,l.Q3)("",!0),"Checkout"===r.currentComponent?((0,l.uX)(),(0,l.Wv)(u,{key:2,onChangeComponent:s.handleChangeComponent,onUpdateTotal:s.updateTotalAmt,cart:r.cart,totalAmt:r.totalAmt},null,8,["onChangeComponent","onUpdateTotal","cart","totalAmt"])):(0,l.Q3)("",!0)])}n(4114);var s=n(4232),c=n.p+"img/thelogo.6d5363bf.png";const i={id:"Homepage"},u={class:"Navigation"},d=["disabled"],h=(0,l.Lk)("i",{class:"fa-solid fa-cart-shopping"},null,-1),p=[h],m=(0,l.Lk)("br",null,null,-1),k=(0,l.Lk)("img",{id:"Websitelogo",src:c,alt:"Logo"},null,-1),L=(0,l.Lk)("br",null,null,-1),f=(0,l.Lk)("br",null,null,-1),b={class:"Sortbox"},C=(0,l.Lk)("br",null,null,-1),v=(0,l.Lk)("h1",{id:"Sortby"},"Sort by :",-1),y=(0,l.Lk)("br",null,null,-1),g=(0,l.Lk)("br",null,null,-1),w={id:"Filters"},A=(0,l.Lk)("i",{class:"fa-solid fa-arrow-up"},null,-1),T=[A],S=(0,l.Lk)("i",{class:"fa-solid fa-arrow-down"},null,-1),E=[S],x=(0,l.Lk)("br",null,null,-1),F=(0,l.Lk)("br",null,null,-1),j=(0,l.Lk)("i",{class:"fa-solid fa-arrow-up"},null,-1),q=[j],_=(0,l.Lk)("i",{class:"fa-solid fa-arrow-down"},null,-1),D=[_],X=(0,l.Lk)("br",null,null,-1),W=(0,l.Lk)("br",null,null,-1),N=(0,l.Lk)("i",{class:"fa-solid fa-arrow-up"},null,-1),O=[N],$=(0,l.Lk)("i",{class:"fa-solid fa-arrow-down"},null,-1),U=[$],P=(0,l.Lk)("br",null,null,-1),B=(0,l.Lk)("br",null,null,-1),J=(0,l.Lk)("i",{class:"fa-solid fa-arrow-up"},null,-1),V=[J],I=(0,l.Lk)("i",{class:"fa-solid fa-arrow-down"},null,-1),Q=[I],R=(0,l.Lk)("br",null,null,-1),H=(0,l.Lk)("br",null,null,-1),M=(0,l.Lk)("i",{class:"fa-solid fa-arrow-up"},null,-1),K=[M],z=(0,l.Lk)("i",{class:"fa-solid fa-arrow-down"},null,-1),Y=[z],G=(0,l.Lk)("br",null,null,-1),Z={class:"Theclasses"},ee={id:"Classtable",cellspacing:"15"},te={key:0,class:"Subjectbox"},ne={id:"Subjectname"},oe=["innerHTML"],le={id:"Subjectinfo"},ae=(0,l.Lk)("b",null,"Location:",-1),re=(0,l.Lk)("br",null,null,-1),se=(0,l.Lk)("b",null,"Fee:",-1),ce=(0,l.Lk)("br",null,null,-1),ie=(0,l.Lk)("b",null,"Teacher:",-1),ue=(0,l.Lk)("br",null,null,-1),de=(0,l.Lk)("b",null,"Space:",-1),he={key:0},pe={key:1},me=(0,l.Lk)("span",{style:{color:"rgb(158, 32, 32)"}},"Unavailable",-1),ke=[me],Le=(0,l.Lk)("br",null,null,-1),fe=(0,l.Lk)("br",null,null,-1),be=["id","onClick","disabled"],Ce=(0,l.Lk)("i",{class:"fa-solid fa-cart-plus"},null,-1);function ve(e,t,n,a,r,c){const h=(0,l.g2)("center");return(0,l.uX)(),(0,l.CE)("div",i,[(0,l.Lk)("div",u,[(0,l.Lk)("button",{id:"Cart",onClick:t[0]||(t[0]=(...e)=>c.handleCartButtonClick&&c.handleCartButtonClick(...e)),disabled:0===n.cart.length},p,8,d),m,k]),L,f,(0,l.Lk)("div",b,[C,(0,l.bF)(h,null,{default:(0,l.k6)((()=>[v,y,g,(0,l.Lk)("div",w,[(0,l.eW)(" Subject: "),(0,l.Lk)("button",{class:"Ascdesc",id:"Nameup",onClick:t[1]||(t[1]=(...e)=>c.nameAsc&&c.nameAsc(...e))},T),(0,l.Lk)("button",{class:"Ascdesc",id:"Namedown",onClick:t[2]||(t[2]=(...e)=>c.nameDesc&&c.nameDesc(...e))},E),x,F,(0,l.eW)("Location: "),(0,l.Lk)("button",{class:"Ascdesc",id:"Locationup",onClick:t[3]||(t[3]=(...e)=>c.locationAsc&&c.locationAsc(...e))},q),(0,l.Lk)("button",{class:"Ascdesc",id:"Locationdown",onClick:t[4]||(t[4]=(...e)=>c.locationDesc&&c.locationDesc(...e))},D),X,W,(0,l.eW)("Fee: "),(0,l.Lk)("button",{class:"Ascdesc",id:"Priceup",onClick:t[5]||(t[5]=(...e)=>c.priceAsc&&c.priceAsc(...e))},O),(0,l.Lk)("button",{class:"Ascdesc",id:"Pricedown",onClick:t[6]||(t[6]=(...e)=>c.priceDesc&&c.priceDesc(...e))},U),P,B,(0,l.eW)("Teacher: "),(0,l.Lk)("button",{class:"Ascdesc",id:"Teacherup",onClick:t[7]||(t[7]=(...e)=>c.teacherAsc&&c.teacherAsc(...e))},V),(0,l.Lk)("button",{class:"Ascdesc",id:"Teacherdown",onClick:t[8]||(t[8]=(...e)=>c.teacherDesc&&c.teacherDesc(...e))},Q),R,H,(0,l.eW)("Availability: "),(0,l.Lk)("button",{class:"Ascdesc",id:"Spaceup",onClick:t[9]||(t[9]=(...e)=>c.spaceAsc&&c.spaceAsc(...e))},K),(0,l.Lk)("button",{class:"Ascdesc",id:"Spacedown",onClick:t[10]||(t[10]=(...e)=>c.spaceDesc&&c.spaceDesc(...e))},Y)])])),_:1})]),G,(0,l.bo)((0,l.Lk)("input",{type:"text",id:"Search",placeholder:"Search Subject Name, Code, Location or Teacher Here...","onUpdate:modelValue":t[11]||(t[11]=e=>r.searchTerm=e)},null,512),[[o.Jo,r.searchTerm]]),(0,l.Lk)("div",Z,[(0,l.Lk)("table",ee,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.lessonRows,((e,t)=>((0,l.uX)(),(0,l.CE)("tr",{key:t},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e,((e,t)=>((0,l.uX)(),(0,l.CE)("td",{key:t},[c.matchSearch(e)?((0,l.uX)(),(0,l.CE)("div",te,[(0,l.Lk)("div",ne,(0,s.v_)(e.code)+": "+(0,s.v_)(e.name),1),(0,l.Lk)("div",{innerHTML:e.fontawsm},null,8,oe),(0,l.Lk)("div",le,[ae,(0,l.eW)(" "+(0,s.v_)(e.location)+" ",1),re,se,(0,l.eW)(" £ "+(0,s.v_)(e.price)+" ",1),ce,ie,(0,l.eW)(" "+(0,s.v_)(e.teacher)+" ",1),ue,de,e.space>0?((0,l.uX)(),(0,l.CE)("span",he,(0,s.v_)(c.calculateSpaceLeft(e)),1)):((0,l.uX)(),(0,l.CE)("span",pe,ke)),Le]),fe,(0,l.Lk)("button",{class:"Addtocart",id:e.name,onClick:t=>c.addToCart(e),disabled:0===c.calculateSpaceLeft(e)},[Ce,(0,l.eW)(" Add To Cart ")],8,be)])):(0,l.Q3)("",!0)])))),128))])))),128))])])])}var ye={name:"Lesson-Component",props:{cart:{type:Array,default:()=>[]}},data(){return{searchTerm:"",lessons:[]}},methods:{handleCartButtonClick(){this.$emit("change-component","Cart")},nameAsc(){this.lessons.sort(((e,t)=>e.name.localeCompare(t.name)))},nameDesc(){this.lessons.sort(((e,t)=>t.name.localeCompare(e.name)))},locationAsc(){this.lessons.sort(((e,t)=>e.location.localeCompare(t.location)))},locationDesc(){this.lessons.sort(((e,t)=>t.location.localeCompare(e.location)))},priceAsc(){this.lessons.sort(((e,t)=>e.price-t.price))},priceDesc(){this.lessons.sort(((e,t)=>t.price-e.price))},teacherAsc(){this.lessons.sort(((e,t)=>e.teacher.localeCompare(t.teacher)))},teacherDesc(){this.lessons.sort(((e,t)=>t.teacher.localeCompare(e.teacher)))},spaceAsc(){this.lessons.sort(((e,t)=>e.space-t.space))},spaceDesc(){this.lessons.sort(((e,t)=>t.space-e.space))},matchSearch(e){const t=this.searchTerm.toLowerCase();return e.name.toLowerCase().includes(t)||e.code.toLowerCase().includes(t)||e.location.toLowerCase().includes(t)||e.teacher.toLowerCase().includes(t)},addToCart(e){e&&void 0!==e.cartqty&&e.space>0?(console.log(e),this.$emit("add-to-cart",e)):console.error("Invalid lesson object:",e)},calculateSpaceLeft(e){const t=this.cart.find((t=>t._id===e._id));return t?e.space-t.cartqty:e.space}},created(){fetch("http://localhost:3000/collection/Lessons").then((e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()})).then((e=>{this.lessons=e,console.log(e)})).catch((e=>{console.error("Error fetching lessons:",e)}))},computed:{lessonRows(){const e=[];for(let t=0;t<this.lessons.length;t+=3)e.push(this.lessons.slice(t,t+3));return e}}},ge=n(1241);const we=(0,ge.A)(ye,[["render",ve]]);var Ae=we;const Te={id:"Cartpage"},Se=(0,l.Lk)("br",null,null,-1),Ee=(0,l.Lk)("br",null,null,-1),xe={class:"Cartitems"},Fe=(0,l.Lk)("br",null,null,-1),je=(0,l.Lk)("h1",null,"Your Cart",-1),qe={key:0},_e=["onClick"],De=(0,l.Lk)("i",{id:"Trash",class:"fa-solid fa-trash"},null,-1),Xe=[De],We={class:"Classesincart"},Ne=(0,l.Lk)("br",null,null,-1),Oe={class:"Cartsubject"},$e={class:"Qty"},Ue=(0,l.Lk)("b",null,"Qty:",-1),Pe=["disabled","onClick"],Be=["disabled","onClick"],Je={class:"Cartprice"},Ve=(0,l.Lk)("b",null,"Price:",-1),Ie=(0,l.Lk)("br",null,null,-1),Qe={key:1},Re=(0,l.Lk)("br",null,null,-1),He=(0,l.Lk)("br",null,null,-1),Me=(0,l.Lk)("p",{style:{"font-size":"25px"}},"Uh oh! Looks like your cart is empty",-1),Ke=(0,l.Lk)("p",{style:{"font-size":"20px"}},"Add items to the cart to display them here",-1),ze={class:"Total"},Ye=(0,l.Lk)("br",null,null,-1),Ge=(0,l.Lk)("b",null,"To be paid :",-1),Ze=(0,l.Lk)("br",null,null,-1),et=(0,l.Lk)("br",null,null,-1),tt=(0,l.Lk)("br",null,null,-1),nt=(0,l.Lk)("br",null,null,-1),ot=["disabled"],lt=(0,l.Lk)("i",{class:"fa-solid fa-cash-register"},null,-1);function at(e,t,n,o,a,r){const c=(0,l.g2)("center");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",Te,[Se,(0,l.eW)("        "),(0,l.Lk)("i",{onClick:t[0]||(t[0]=(...e)=>r.goBack&&r.goBack(...e)),id:"Back",class:"fa-solid fa-arrow-left"}),Ee,(0,l.Lk)("div",xe,[Fe,(0,l.bF)(c,null,{default:(0,l.k6)((()=>[je])),_:1}),n.cart&&n.cart.length>0?((0,l.uX)(),(0,l.CE)("div",qe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.cart,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e._id,class:"CartItem"},[(0,l.Lk)("button",{class:"Delete",onClick:t=>r.deleteFromCart(e)},Xe,8,_e),(0,l.Lk)("div",We,[Ne,(0,l.Lk)("div",Oe,[(0,l.eW)("    "),(0,l.Lk)("b",null,(0,s.v_)(e.name),1)]),(0,l.Lk)("div",$e,[(0,l.eW)("      "),Ue,(0,l.Lk)("button",{id:"Qtydown",disabled:1===e.cartqty,onClick:t=>r.decQty(e)},"-",8,Pe),(0,l.eW)(" "+(0,s.v_)(e.cartqty)+" ",1),(0,l.Lk)("button",{id:"Qtyup",disabled:5===e.cartqty,onClick:t=>r.incQty(e)},"+",8,Be)]),(0,l.Lk)("div",Je,[(0,l.eW)("      "),Ve,(0,l.eW)(" £"+(0,s.v_)(e.price*e.cartqty),1)]),Ie])])))),128))])):((0,l.uX)(),(0,l.CE)("div",Qe,[Re,He,(0,l.bF)(c,null,{default:(0,l.k6)((()=>[Me,Ke])),_:1})]))])]),(0,l.Lk)("div",ze,[Ye,(0,l.eW)("   "),Ge,(0,l.eW)("                                           £ "+(0,s.v_)(n.totalAmt)+" ",1),Ze,et,tt,nt,(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.Lk)("button",{id:"Checkoutbutton",onClick:t[1]||(t[1]=(...e)=>r.handleCheckoutButtonClick&&r.handleCheckoutButtonClick(...e)),disabled:r.isCartEmpty},[lt,(0,l.eW)("  Checkout ")],8,ot)])),_:1})])])}var rt={name:"Cart-Component",props:["cart","totalAmt"],methods:{goBack(){this.$emit("change-component","Lesson")},incQty(e){e.cartqty<5&&e.space>0&&(e.cartqty++,e.space--,this.$emit("update-cart",this.cart),this.$emit("update-total",this.calculateTotalAmt()))},decQty(e){e.cartqty>1&&(e.cartqty--,e.space++,this.$emit("update-cart",this.cart),this.$emit("update-total",this.calculateTotalAmt()))},handleCheckoutButtonClick(){this.$emit("change-component","Checkout")},deleteFromCart(e){console.log(e),this.$emit("delete-from-cart",e);const t=this.calculateTotalAmt();this.$emit("update-total",t)},calculateTotalAmt(){return this.cart.reduce(((e,t)=>e+t.price*t.cartqty),0)},dynamicTotalAmt(){return this.cart.reduce(((e,t)=>e+t.price*t.cartqty),0)}},computed:{isCartEmpty(){return!this.cart||0===this.cart.length}},watch:{cart:{handler:function(){this.$emit("update-total",this.dynamicTotalAmt())},deep:!0}}};const st=(0,ge.A)(rt,[["render",at]]);var ct=st;const it={id:"Checkoutpage"},ut=(0,l.Lk)("br",null,null,-1),dt={class:"Theform"},ht=(0,l.Lk)("br",null,null,-1),pt=(0,l.Lk)("h1",null,"Enter Your Details",-1),mt=(0,l.Lk)("br",null,null,-1),kt=(0,l.Lk)("br",null,null,-1),Lt=(0,l.Lk)("br",null,null,-1),ft=(0,l.Lk)("br",null,null,-1),bt=(0,l.Lk)("br",null,null,-1),Ct=(0,l.Lk)("br",null,null,-1),vt=(0,l.Lk)("br",null,null,-1),yt=(0,l.Lk)("br",null,null,-1),gt=(0,l.Lk)("br",null,null,-1),wt=(0,l.Lk)("br",null,null,-1),At=(0,l.Lk)("br",null,null,-1),Tt=(0,l.Lk)("br",null,null,-1),St=(0,l.Lk)("br",null,null,-1),Et=(0,l.Lk)("br",null,null,-1),xt=["disabled"];function Ft(e,t,n,a,r,s){const c=(0,l.g2)("center");return(0,l.uX)(),(0,l.CE)("div",it,[(0,l.Lk)("i",{onClick:t[0]||(t[0]=(...e)=>s.goBack&&s.goBack(...e)),id:"Back",class:"fa-solid fa-arrow-left"}),ut,(0,l.bF)(c,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",dt,[ht,pt,mt,(0,l.Lk)("form",{onSubmit:t[10]||(t[10]=(0,o.D$)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[(0,l.bo)((0,l.Lk)("input",{id:"FName",type:"text",placeholder:"First Name (Student)*","onUpdate:modelValue":t[1]||(t[1]=e=>r.fname=e),required:""},null,512),[[o.Jo,r.fname,void 0,{trim:!0}]]),(0,l.bo)((0,l.Lk)("input",{id:"MName",type:"text",placeholder:"Middle Name (Student)","onUpdate:modelValue":t[2]||(t[2]=e=>r.mname=e)},null,512),[[o.Jo,r.mname,void 0,{trim:!0}]]),(0,l.bo)((0,l.Lk)("input",{id:"LName",type:"text",placeholder:"Last Name (Student)*","onUpdate:modelValue":t[3]||(t[3]=e=>r.lname=e),required:""},null,512),[[o.Jo,r.lname,void 0,{trim:!0}]]),kt,Lt,(0,l.bo)((0,l.Lk)("input",{id:"StudentID",type:"text",placeholder:"Student ID (SHSXXXXXX)*","onUpdate:modelValue":t[4]||(t[4]=e=>r.studentid=e),required:""},null,512),[[o.Jo,r.studentid,void 0,{trim:!0}]]),ft,bt,(0,l.bo)((0,l.Lk)("input",{id:"Phone",type:"text",placeholder:"Phone*","onUpdate:modelValue":t[5]||(t[5]=e=>r.phone=e),required:""},null,512),[[o.Jo,r.phone,void 0,{trim:!0}]]),Ct,vt,(0,l.bo)((0,l.Lk)("input",{id:"Email",type:"email",placeholder:"Student Email Address*","onUpdate:modelValue":t[6]||(t[6]=e=>r.email=e),required:""},null,512),[[o.Jo,r.email,void 0,{trim:!0}]]),yt,gt,(0,l.bo)((0,l.Lk)("input",{id:"Cardnumber",type:"text",placeholder:"Credit/Debit Card Number*","onUpdate:modelValue":t[7]||(t[7]=e=>r.cardno=e),required:""},null,512),[[o.Jo,r.cardno,void 0,{trim:!0}]]),(0,l.bo)((0,l.Lk)("input",{id:"CardCVV",type:"text",placeholder:"CVV*","onUpdate:modelValue":t[8]||(t[8]=e=>r.cvv=e),required:""},null,512),[[o.Jo,r.cvv,void 0,{trim:!0}]]),wt,At,(0,l.eW)(" Card Expiration Date: "),(0,l.bo)((0,l.Lk)("input",{id:"Cardexpiry",type:"date",placeholder:"Expiration Date*","onUpdate:modelValue":t[9]||(t[9]=e=>r.cardexp=e),required:""},null,512),[[o.Jo,r.cardexp]]),Tt,St,Et,(0,l.Lk)("button",{id:"Submitform",type:"submit",disabled:s.isFormInvalid},"Submit",8,xt)],32)])])),_:1})])}var jt={name:"Checkout-Component",props:["cart","totalAmt"],data(){return{fname:"",mname:"",lname:"",studentid:"",phone:"",email:"",cardno:"",cardexp:"",cvv:""}},computed:{isFormInvalid(){return!this.fname||!this.lname||!this.studentid||!this.phone||!this.email||!this.cardno||!this.cardexp||!this.cvv}},methods:{goBack(){this.$emit("change-component","Cart")},handleSubmit(){if(""!==this.fname&&""!==this.lname&&""!==this.studentid&&""!==this.phone&&""!==this.email&&""!==this.cardno&&""!==this.cardexp&&""!==this.cvv){const e={fname:this.fname,mname:this.mname,lname:this.lname,studentid:this.studentid,phone:this.phone,email:this.email,cardno:this.cardno,cardexp:this.cardexp,cvv:this.cvv,cartitems:this.cart,payment:this.totalAmt};this.handleFormSubmission(e)}else console.log("Form is invalid. Please fill in all required fields.")},handleFormSubmission(e){fetch("http://localhost:3000/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw alert("Error"),new Error("Network response was not ok");return e.json()})).then((e=>{alert("Submitted"),console.log("Order placed successfully:",e),this.cart.forEach((e=>{this.updateLessonSpace(e._id,e.cartqty)}))})).catch((e=>{console.error("Error placing order:",e)}))},updateLessonSpace(e,t){fetch(`http://localhost:3000/collection/Lessons/${e}`).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((n=>{const o=n.space-t;fetch(`http://localhost:3000/collection/Lessons/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:o})}).then((e=>e.json())).then((e=>{console.log("Lesson space updated successfully: ",e)})).catch((e=>{console.error("Error updating lesson space: ",e)}))})).catch((e=>{console.error("ERROR:",e)}))}}};const qt=(0,ge.A)(jt,[["render",Ft]]);var _t=qt,Dt={name:"App",components:{Lesson:Ae,Cart:ct,Checkout:_t},data(){return{currentComponent:"Lesson",lessons:[],cart:[],searchTerm:"",totalAmt:0}},computed:{filteredLessons(){return this.lessons.filter((e=>e.name.toLowerCase().includes(this.searchTerm.toLowerCase())))},cartItemCount(){return this.cart.length}},methods:{handleChangeComponent(e){this.currentComponent=e},addToCartHandler(e){const t=this.cart.findIndex((t=>t._id===e._id));-1===t?(this.cart.push({...e,cartqty:1}),alert(`Added ${e.name} to cart`)):this.cart[t].cartqty++,this.calculateTotalAmt()},deleteFromCartHandler(e){const t=this.cart.findIndex((t=>t._id===e._id));-1!==t&&(this.cart.splice(t,1),this.calculateTotalAmt())},isCartEmpty(){return 0===this.cart.length},performSearch(){const e=this.searchTerm.toLowerCase();if(e){const t="Lessons";fetch(`http:/localhost:3000/${t}/search/${e}`).then((e=>{if(!e.ok)throw new Error("Network response Error");return e.json()})).then((e=>{this.classes=e,console.log("Results: \n",e)})).catch((e=>{console.error("ERROR:",e)}))}else fetch("http:/localhost:3000/collection/Lessons").then((e=>e.json())).then((e=>{this.lessons=e})).catch((e=>console.log("There seems to be an error: ",e)))},handleFormSubmission(e){fetch("http://localhost:3000/order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>{if(!e.ok)throw alert("Error"),new Error("Network response was not ok");return e.json()})).then((e=>{alert("Submitted"),console.log("Order placed successfully:",e),this.cart.forEach((e=>{this.updateLessonSpace(e._id,e.cartqty)}))})).catch((e=>{console.error("Error placing order:",e)}))},updateLessonSpace(e,t){fetch(`http://localhost:3000/collection/Lessons/${e}`).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((n=>{const o=n.space-t;fetch(`http://localhost:3000/collection/Lessons/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({space:o})}).then((e=>e.json())).then((e=>{console.log("Lesson space updated successfully: ",e)})).catch((e=>{console.error("Error updating lesson space: ",e)}))})).catch((e=>{console.error("ERROR:",e)}))},calculateTotalAmt(){this.totalAmt=this.cart.reduce(((e,t)=>e+t.price*t.cartqty),0)},updateTotalAmt(e){this.totalAmt=e}}};const Xt=(0,ge.A)(Dt,[["render",r]]);var Wt=Xt,Nt=n(4458);(0,Nt.k)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}}),(0,o.Ef)(Wt).mount("#app")}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,o,l,a){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],l=e[u][1],a=e[u][2];for(var s=!0,c=0;c<o.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,a<r&&(r=a));if(s){e.splice(u--,1);var i=l();void 0!==i&&(t=i)}}return t}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[o,l,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,a,r=o[0],s=o[1],c=o[2],i=0;if(r.some((function(t){return 0!==e[t]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(c)var u=c(n)}for(t&&t(o);i<r.length;i++)a=r[i],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(u)},o=self["webpackChunkstrawgoh"]=self["webpackChunkstrawgoh"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[504],(function(){return n(455)}));o=n.O(o)})();
//# sourceMappingURL=app.4abfb90e.js.map